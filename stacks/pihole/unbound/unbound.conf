server:
    verbosity: 1                                       # Logging level: minimal info
    interface: 0.0.0.0                                 # Listen on all IPv4 interfaces
    port: 53                                           # Standard DNS port
    do-ip4: yes                                        # Enable IPv4
    do-udp: yes                                        # Enable UDP
    do-tcp: yes                                        # Enable TCP

    do-ip6: no                                         # Disable IPv6 (enable if available)

    root-hints: /etc/unbound/custom.conf.d/root.hints  # Path to root server hints file

    harden-glue: yes                                   # Trust glue only within authoritative zones
    harden-dnssec-stripped: yes                        # Enforce DNSSEC; treat zones without DNSSEC as bogus
    use-caps-for-id: no                                # Disable query ID capitalization randomization
    edns-buffer-size: 1472                             # Reduce EDNS buffer size for network compatibility
    prefetch: yes                                      # Prefetch nearly expired cache entries
    num-threads: 1                                     # Single thread is sufficient for small setups
    so-rcvbuf: 400k                                    # Kernel receive buffer size

    # Prevent queries to local and link-local networks
    private-address: 192.168.0.0/16
    private-address: 169.254.0.0/16
    private-address: 172.16.0.0/12
    private-address: 10.0.0.0/8
    private-address: fd00::/8
    private-address: fe80::/10

    # Increase TCP connections to prevent Pi-hole errors
    incoming-num-tcp: 50                               # Increase allowed TCP connections
    tcp-idle-timeout: 1024                             # Keep idle TCP connections longer
    outgoing-range: 8192                               # Expand UDP port range
    num-queries-per-thread: 4096                       # Increase per-thread query capacity
